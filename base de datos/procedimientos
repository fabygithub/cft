

DELIMITER $$
--
-- Procedimientos
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_agregarTipoProducto` (IN `nombre` VARCHAR(20))  BEGIN
	INSERT INTO tipoproducto VALUES(null, nombre);
    SELECT "El cliente fue agregado correctamente" AS Resultado;
END$$




CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_nombre_consultar` (IN `nombre` VARCHAR(20))  BEGIN
	SELECT * FROM tipoproducto
    WHERE nombre = 'pc';
END$$


CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_actualizarTipoProducto` (IN `nombre` VARCHAR(20))  BEGIN
	Update tipoproducto set nombre = 'teclado2' 
        where nombre = 'pc';
END$$




CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_eliminarTipoProducto` (IN `nombre` VARCHAR(20))  BEGIN
	DELETE FROM `tipoproducto` WHERE idTipoProducto = 1;
END$$





CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_crearTipoProducto` (IN `nombre` VARCHAR(20))  BEGIN
        drop  table if exists tipoproducto;
	CREATE TABLE tipoProducto(
	idTipoProducto int PRIMARY KEY AUTO_INCREMENT not null,
	Nombre varchar(20));
END$$



CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_consultarProducto` (IN `descripcion` VARCHAR(20),cantidad int,precio int)  BEGIN
    SELECT * from producto;
END$$





CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_consultarProveedor` (IN `nombre` VARCHAR(20))  BEGIN
    SELECT * from proveedores;
END$$




CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_consultarLogin` (IN `contrasena` VARCHAR(40))  BEGIN
    SELECT * from loginusuarios;
END$$

CALL SP_nombre_consultar('pc');
CALL SP_agregarTipoProducto('pc55');
call SP_actualizarTipoProducto('pc');
CALL SP_eliminarTipoProducto(1);
CALL SP_crearTipoProducto(1);



CALL SP_consultarProducto('pc',2,400);
CALL SP_consultarProveedor('pc');
CALL SP_consultarLogin('pc');



DELIMITER //
DROP PROCEDURE if EXISTS SP_nombre_consultar // 
CREATE PROCEDURE SP_nombre_consultar
(
  IN pedirNombre varchar(20)
)
BEGIN
  SELECT * FROM tipoproducto
  WHERE nombre=pedirNombre;
END;
//
CALL SP_nombre_consultar('pc');



/*
use tienda;
drop PROCEDURE SP_ActualizarTipoProducto;

drop PROCEDURE SP_agregarProducto;


use tienda;

DELIMITER $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `SP_agregarProducto` (IN `descripcion` VARCHAR(20),cantidad int,precio int)  BEGIN
    SELECT "El producto fue agregado correctamente" AS Resultado;
END$$

CALL SP_agregarProducto('pc',2,400);

use tienda;
drop PROCEDURE SP_agregarLogin;
*/
